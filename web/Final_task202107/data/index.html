<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>チヨとココのお母さんが風邪引いた！</title>
    <script type="text/javascript" src="processing.fast.js"></script>
</head>
<style>
    body{
        text-align: center;
    }

    #gameCanvas{
        width: 300px;
        height: 300px;
        border: 1px solid #ccc;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .scaled-content {
        display: flex;
        justify-content: center;
        align-items: center;
        transform-origin: center;
    }
</style>
<body>
    <h1>チヨとココのお母さんが風邪引いた！</h1>
    <p>このゲームはもともとウィンドウゲームとして作られていたものをブラウザ用に変更したものです。</p>
    
    <p>そのため以下の機能が失われています。
        <span style="
        text-align: left;
        margin: auto;
        margin-top: 10px;
        width: fit-content;
        display: block;
        ">
        ・スクリーンショット機能<br>
        ・進行状況に対応したジャンプ機能<br>
        　(初めからすべての選択肢にジャンプできます)<br>
        ・曲やSE等の音の再生</span></p>

    <p>上記の機能が失われていないウィンドウゲームは以下からダウンロードできます。
    (Windows用のみ)<br>
    <a class="appLink" 
    href="https://github.com/Sakura115/novel2D/tree/main/exe/Final_task202107/export/" 
    target="_blank">GitHubへ</a></p>

    <div class="scaled-content">
        <canvas id=gameCanvas data-processing-sources="../Final_task202107.pde"></canvas>
    </div>
  
</body>

<script>
        function applyScaling() {
            const canvas = document.getElementById('gameCanvas');
            const canvasWidth = canvas.width;
            const screenWidth = window.innerWidth;
            const scale = screenWidth / canvasWidth /100*80;
            const scaledContent = document.querySelector('.scaled-content');
            scaledContent.style.transform = "scale("+(scale>1 ? 1 : scale)+")";
        }

        // ページ読み込み完了時にスケーリングを適用
        window.addEventListener('load', applyScaling);

        // ウィンドウサイズが変更された時にスケーリングを再適用
        window.addEventListener('resize', applyScaling);
</script>